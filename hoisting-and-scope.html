<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/style.css" type="text/css">
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <title>Javascripting: Hoisting and Scope</title>
</head>

<body onload="setName()">
    <header>
        <div class="wrapper">
            <div class="sliding-background">
            </div>
        </div>
    
        <nav class="nav" id="nav">
            <div class="container-fluid new-nav" id="menu-bar">
                <div class="row full-row">
                    <div class="title">
                        <h2 class="title-text"><a class="title-link" href="index.html">Javascripting</a></h2>
                        <h2 class="menu-text">Menu</h2>
                        <p class="fontawesome-icon"><i class="fa fa-bars"></i></p>
                    </div>
                </div>
            </div>

            <div class="menu-dropdown" id="menu-dropdown">
                <div class="new-dropdown-menu codeExamples dropdown-menu-no-children">
                    <a class="menu-list" href="code-examples.html">Code Examples</a>
                </div>

                <div class="new-dropdown-menu hoistingAndScope dropdown-menu-no-children">
                    <a class="menu-list" href="hoisting-and-scope.html">Hoisting and Scope</a>
                </div>

                <div class="new-dropdown-menu numbers">
                    <p class="menu-list-with-dropdown numbers-dropdown" id="numbers">Numbers</p>
                    <div class="new-dropdown-submenu numbers-sub">
                        <a class="sub-menu-link numbers-one" href="numbers/the-basics.html">Introduction</a>
                        <a class="sub-menu-link numbers-two" href="numbers/number-methods.html">Number Methods</a>
                        <a class="sub-menu-link numbers-three" href="numbers/math-methods.html">Math Methods</a>
                    </div>
                </div> 
                
                <div class="new-dropdown-menu strings">
                    <p class="menu-list-with-dropdown strings-dropdown" id="strings">"strings"</p>
                    <div class="new-dropdown-submenu strings-sub">
                        <a class="sub-menu-link strings-one" href="strings/the-basics.html">Introduction</a>
                        <a class="sub-menu-link strings-two" href="strings/string-methods.html">"string" Methods</a>
                        <a class="sub-menu-link strings-three" href="strings/concat-and-interpolation.html">Concatenation & Interpolation</a>
                        <a class="sub-menu-link strings-four" href="strings/challenges.html">Challenges</a>
                    </div>
                </div>

                <div class="new-dropdown-menu arrays">
                    <p class="menu-list-with-dropdown arrays-dropdown" id="arrays">[arrays]</p>
                    <div class="new-dropdown-submenu arrays-sub">
                        <a class="sub-menu-link arrays-one" href="arrays/the-basics.html">Introduction</a>
                        <a class="sub-menu-link arrays-two" href="arrays/array-methods.html">[array] Methods</a>
                        <a class="sub-menu-link arrays-three" href="arrays/array-methods-2.html">More [array] Methods</a>
                        <a class="sub-menu-link arrays-four" href="arrays/multi-dimensional-arrays.html">Multidimensional [arrays]</a>
                        <a class="sub-menu-link arrays-five" href="arrays/challenges.html">Challenges</a>
                    </div>
                </div>

                <div class="new-dropdown-menu booleans">
                    <p class="menu-list-with-dropdown booleans-dropdown" id="booleans">Booleans</p>
                    <div class="new-dropdown-submenu booleans-sub">
                        <a class="sub-menu-link booleans-one" href="booleans/the-basics.html">Introduction</a>
                        <a class="sub-menu-link booleans-two" href="booleans/conditionals.html">Conditionals</a>
                        <a class="sub-menu-link booleans-three" href="booleans/conversions.html">Conversions</a>
                        <a class="sub-menu-link booleans-four" href="booleans/challenges.html">Challenges</a>
                    </div>
                </div>

                <div class="new-dropdown-menu typeConversion dropdown-menu-no-children">
                    <a class="menu-list" href="type-conversion.html">Type Conversion</a>
                </div>

                <div class="new-dropdown-menu loops">
                    <p class="menu-list-with-dropdown loops-dropdown" id="loops">Loops</p>
                    <div class="new-dropdown-submenu loops-sub">
                        <a class="sub-menu-link loops-one" href="loops/the-basics.html">Introduction</a>
                        <a class="sub-menu-link loops-two" href="loops/loops.html">Loops</a>
                        <a class="sub-menu-link loops-three" href="loops/break-and-continue.html">Break and Continue</a>
                        <a class="sub-menu-link loops-four" href="loops/nested-loops.html">Nested Loops</a>
                        <a class="sub-menu-link loops-five" href="loops/challenges.html">Challenges</a>
                    </div>
                </div>

                <div class="new-dropdown-menu functions">
                    <p class="menu-list-with-dropdown functions-dropdown" id="functions">functions()</p>
                    <div class="new-dropdown-submenu functions-sub">
                        <a class="sub-menu-link functions-one" href="functions/the-basics.html">Introduction</a>
                        <a class="sub-menu-link functions-two" href="functions/function-expressions.html">function() Expressions</a>
                        <a class="sub-menu-link functions-three" href="functions/function-callbacks.html">function() Callbacks</a>
                        <a class="sub-menu-link functions-four" href="functions/challenges.html">Challenges</a>
                    </div>
                </div>

                <div class="new-dropdown-menu objects">
                    <p class="menu-list-with-dropdown objects-dropdown" id="objects">Objects</p>
                    <div class="new-dropdown-submenu objects-sub">
                        <a class="sub-menu-link objects-one" href="objects/the-basics.html">Introduction</a>
                        <a class="sub-menu-link objects-two" href="objects/object-constructor.html">Object Constructor</a>
                        <a class="sub-menu-link objects-three" href="objects/object-methods.html">Object Methods</a>
                        <a class="sub-menu-link objects-four" href="objects/this.html">this</a>
                        <a class="sub-menu-link objects-five" href="objects/object-values.html">Object Values</a>
                        <a class="sub-menu-link objects-six" href="objects/challenges.html">Challenges</a>
                    </div>
                </div>

                <div class="new-dropdown-menu dom">
                    <p class="menu-list-with-dropdown dom-dropdown" id="dom">The DOM</p>
                    <div class="new-dropdown-submenu dom-sub">
                        <a class="sub-menu-link dom-one" href="dom/document-object-model.html">on~</a>
                        <a class="sub-menu-link dom-two" href="dom/getting-setting-dom-elements.html">Getting and Setting DOM Elements</a>
                        <a class="sub-menu-link dom-three" href="dom/setting-css-in-dom.html">Setting CSS Elements from the DOM</a>
                        <a class="sub-menu-link dom-four" href="dom/dom-events.html">DOM Events</a>
                        <a class="sub-menu-link dom-five" href="dom/challenges.html">Challenges</a>
                    </div>
                </div>

                <div class="new-dropdown-menu jQuery">
                    <p class="menu-list-with-dropdown jQuery-dropdown" id="jQuery">jQuery</p>
                    <div class="new-dropdown-submenu jQuery-sub">
                        <a class="sub-menu-link jQuery-one" href="jQuery/dom-from-console.html">Manipulating the DOM from the console</a>
                        <a class="sub-menu-link jQuery-two" href="jQuery/jQuery-methods.html">jQuery Methods</a>
                        <a class="sub-menu-link jQuery-three" href="jQuery/jQuery-events.html">jQuery Events</a>
                        <a class="sub-menu-link jQuery-four" href="jQuery/jQuery-chaining.html">Chaining</a>
                        <a class="sub-menu-link jQuery-five" href="jQuery/jQuery-this.html">this</a>
                        <a class="sub-menu-link jQuery-six" href="jQuery/jQuery-traversing-dom.html">Traversing the DOM</a>
                    </div>
                </div>

                <div class="new-dropdown-menu json">
                    <p class="menu-list-with-dropdown json-dropdown" id="json">JSON</p>
                    <div class="new-dropdown-submenu json-sub">
                        <a class="sub-menu-link json-one" href="json/introduction.html">Introduction</a>
                        <a class="sub-menu-link json-two" href="json/json.html">JavaScript Object Notation: JSON</a>
                        <a class="sub-menu-link json-three" href="json/from-console-to-page.html">From the Console to the Page</a>
                        <a class="sub-menu-link json-four" href="json/unpacking-data.html">Unpacking the Data</a>
                        <a class="sub-menu-link json-five" href="json/object-keys.html">Object.keys()</a>
                        <a class="sub-menu-link json-six" href="json/tabular-data.html">Tabular Data</a>
                        <a class="sub-menu-link json-seven" href="json/pagination.html">Pagination</a>
                    </div>
                </div>

            </div>
        </nav>

    </header>

    <main>
        <div class="container body-container">
            <div class="page-name">
                <h1>Hoisting, Scope, Block and Storage</h1>
            </div>

            <div class="main-body">           
                <h2 id="hoisting">Hoisting:</h2>
                    <p>Hoisting means that the relevant code is hoisted to the top of the code block, or script. This means that they are read <strong>before</strong> 
                    the code is actioned.</p>
                    <p>One thing to note with hoisting is that the <strong>variable</strong> is hoisted, but not its assigned value. In other words, 
                    the code reads that the variable <strong>exists</strong>, but does not read what the variable is until that variable is actioned.</p>
                    <p>Not all types of variable declarations are hoisted:</p>
                        <ul>
                            <li><code>var</code>:</li>
                                <p class="tab"><code>var</code> is hoisted:</p>
                                <pre><code><p id="varHoist"></p></code></pre>
                                <button class="btn button" type="button" onclick="varHoist()">Is an apple a fruit?</button> <p> <span id="varHoistResult"></span></p>
                                
                                <p>Here, we can see that <code>var apple;</code> has been declared <strong>after</strong> we tell the code what to do with apple. 
                                Because it has been declared as <code>var</code>, it has been hoisted to the top of the code block, and is thus accessible.</p>
                                <br>

                            <li><code>let</code> and <code>const</code> :</li>
                                <p class="tab"><code>let</code> and <code>const</code> are NOT hoisted:</p>
                                <pre><code><p id="letHoist"></p></code></pre>
                                <button class="btn button" type="button" onclick="letHoist()">Is an apple a fruit?</button> <p> <span id="letHoistResult"></span></p>
                                
                                <p>Here, we can see that <code>let apple;</code> has been declared <strong>after</strong> we tell the code what to do with apple. 
                                Because it has been declared as <code>let</code>, it has <strong>not</strong> been hoisted to the top of the code block, and is thus inaccessible.</p>
                                <p>The same is true for <code>const</code>.</p>
                                <br>
                        </ul>

                <h2 id="scope">Scope:</h2>
                    <p>Scope can be considered as your environment. Declaring things in the global scope is like littering - it should be avoided. 
                    Declaring things in the local scope is like having a well-ordered book cabinet. Except in certain circumstances, variables should always be declared 
                    in the local scope - that is, within its own function. </p>
                    <br>
                    <ol>
                        <li>Global Scope:</li>
                            <p>The global scope is effectively your script. If you have a 100 page website and just one <code>JavaScript</code> file, declaring vaiables 
                            in the global scope can cause huge problems by corrupting code:</p>
                            <pre><code><p id="global"></p></code></pre>
                            <p>In the above code, we see that:</p>
                            <p><code>var</code> = <span id="var"></span></p>
                            <p>We redeclare var inside the <code>if</code> statement, and expect that Lupin is either a human or a werewolf, depending on whether 
                            it is a full moon or not:</p>
                            <br>
                            <p>It is a full moon. Lupin is currently a  <span id="var1"></span></p>
                            <br>
                            <p>The code runs smoothly for when it is a full moon, however:</p>
                            <br>
                            <p>It is not a full moon. Lupin is currently a <span id="var2"></span></p>
                            <br>
                            <p>The code has been corrupted because we redclared <code>var</code> inside the code block.</p>
                            <br>
                            <p>The above is a good example of why we should declare our variables in the local scope rather than the global scope.</p>
                            <br>
                        <li>Local Scope:</li>
                            <p>This is declaring variables <strong>within</strong> your code blocks (functions, in this case:</p>
                            <pre><code><p id="trueLupin"></p></code></pre>
                            <p>It is a full moon. Lupin is currently a  <span id="var3"></span></p>
                            <pre><code><p id="falseLupin"></p></code></pre>
                            <p>It is a full moon. Lupin is currently a  <span id="var4"></span></p>
                            <br>
                            <p>Above, having declared out variable <code>animal</code> <strong>within</strong> the local scope of our 
                            <code>function</code>, we can see that the results are correct. When it's a full moon, Lupin is a werewolf, when it isn't he is human.</p>
                            <br>
                            <p>Another advantage to declaring variables in local scope is memory usage of the computer. As globally declared variable live for the length of 
                            the script, they are hogging memory. Declaring them locally means that the memory is only being used while the <code>function</code> is running.</p>
                            <br>
                    </ol>
                            
                        <p>On the Home page, we spoke about <a href="index.html#variables">variables</a> and how <code>var</code> can be redeclared, 
                        while <code>let</code> and <code>const</code> cannot.</p>
                        <p>Let's reuse our first Lupin block of code, but this time we shall use <code>let</code> instead of <code>var</code>:</p>
                        <pre><code><p id="globalLet1"></p></code></pre>
                        <p>It is a full moon. Lupin is currently a  <span id="var5"></span></p>
                        <p>It is not a full moon. Lupin is currently a  <span id="var6"></span></p>
                        <br>
                        <p>We have changed simply one word in the code - the <code>var</code> to <code>let</code> inside the <code>if</code> code block.
                        However, doing so now returns the result that we want. This is because we have declared <code>let</code> inside the local scope of the 
                        <code>if</code> code block.</p>
                        <p>What happens if we do the same, but the other way around?</p>
                        <pre><code><p id="globalLet2"></p></code></pre>
                        <p>It is a full moon. Lupin is currently a  <span id="var7">Uncaught SyntaxError: Identifier 'species' has already been declared</span></p>
                        <p>It is not a full moon. Lupin is currently a  <span id="var8">Uncaught SyntaxError: Identifier 'species' has already been declared</span></p>
                        <br>
                        <p>And below, where we have changed both instances of <code>var</code> into <code>let</code>, we can see truly that the scope is local:</p>
                        <p>The code has completely ignored the globally declared <code>let</code> and returned only the locally scoped <code>let</code>, thus the code block 
                        functions as it should.</p>
                        <pre><code><p id="globalLet3"></p></code></pre>
                        <p>It is a full moon. Lupin is currently a  <span id="var9"></span></p>
                        <p>It is not a full moon. Lupin is currently a  <span id="var10"></span></p>
                        <br>

                <h2 id="scope-and-scripts">Scope and Scripts</h2>
                    <p>When pages are loaded, the browser concatenates scripts into one big file. Thus, we need to be careful when writing our scripts, 
                    because effectively, as the script files are now one big file, these scripts can "talk" to each other, and thus skew expected results:</p>
                    <!--<iframe height="400px" width="100%" src="https://repl.it/@JustinSawyer/JavaScript-Scope-3?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>-->
                    <p>We can see from the above embed that the two script files are talking to each other, and ths skewing the results. Now, if we simply wrap one of the commands inside a <code>function()</code>, we can see that they no longer communicate together.</p>
                    <!--<iframe height="400px" width="100%" src="https://repl.it/@JustinSawyer/JavaScript-Scope-3?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>-->
                    
                <h2 id="block">Block:</h2>
                    <p><code>JavaScript</code> also functions by code blocks. What this means is that, according to how the variable is declared (either as 
                    <code>var</code>, <code>let</code> or <code>const</code>), code is either blocked (is not accessible) or not:</p>
                        <ul>
                            <li><code>var</code>:</li>
                                <pre><code><p id="block1"></p></code></pre>
                                <p>Declaring "a" as <code>var</code> means that it is not blocked:</p>
                                <p id="block2"></p>
                                <br>

                            <li><code>let</code> and <code>const</code>:</li>
                                <pre><code><p id="block3"></p></code></pre>
                                <p>Declaring "a" as <code>let</code> or <code>const</code> means that it is blocked:</p>
                                <p id="block4"></p>
                                <br>

                        </ul>
                
                <h2 id="storage">Storage</h2>
                    <p>Depending on the browser, there is a limited amount of memory available. Thus, in <code>JavaScript</code>, data 
                    can either be stored as <code>local strorage</code> or as <code>session storage</code>.</p>
                    <ul>
                        <li>Session Storage:</li>
                        <p class="tab">Session storage is not persistent. It stays in the memory until the page is closed.</p>
                        <button class="btn button" type="button" id="collectClickCount" onclick="collectClickCount()">Click me</button><button class="btn button" type="button" id="showClickCount" onclick="showClickCount()">Show click count</button><button class="btn button" type="button" id="refreshClickCount" onclick="refreshClickCount()">Reset click count</button>
                        <p id="resultSessionStorage"></p>
                        <pre><code><p id="showCodeClickCount"></p></code></pre>
                        <p>Note that when you set the session storage, you have to set its <code>key</code> / <code>value</code> pairs. It is an <a href="objects/the-basics.html">Object</a>.</p>
                        <p>Also, when resetting the count, if you do not add the <code>|| 0;</code>, the count returns <code>undefined</code>.</p>

                        <li>Local Storage:</li>
                        <p class="tab">Local storage <strong>is</strong> persistent. It stays forever in the memory of the page and always shows in the browser:</p>
                        <p>Enter your name: </p><input type="text" name="name" placeholder="Your name" id="myName"> 
                        <button class="btn button" type="button" onclick="getName()">Enter</button>
                        <p>Now close and then open this page.</p>
                        <pre><code><p id="resultLocalStorage"></p></code></pre>
                        <p>In the code block above, you can also see a function called <code>resetName()</code>. It is triggered using the button below:</p>
                        <button class="btn button" type="button" onclick="resetName()">Reset</button>
                        <p>Now close and then open this page.</p>
                    </ul>
                    <p>So why are these storage solutions important?</p>
                    <p>Imagine a website where you have to sign in. Keeping your log in details can either be good, or bad, depending on the website. 
                    You might want to keep your details for a personal site, of course. But you probably don't want them stored on the back end of your bank 
                    company's site!</p>
                    <p>The storage sessions also help if you need to store details but don't want to declare global variables.</p>


                
                    
            </div>
        </div>

        <div class="container next-last-page-section">
            <div class="row">
                <div class="col-sm-6">
                    <div class="Last-page">
                        <a class="btn button" style="text-align: left" href="code-examples.html" role="button"><svg width="1em" height="1em" viewbox="0 0 16 16" class="bi bi-caret-left-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"/>
                        </svg> Code Examples</a>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="next-page">
                        <a class="btn button" href="numbers/the-basics.html" role="button">Numbers:The Basics <svg width="1em" height="1em" viewbox="0 0 16 16" class="bi bi-caret-right-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                        </svg></a>
                    </div>  
                </div> 
            </div> 
        </div>
        
    </main>

    <footer>
        <div class="container-fluid footer-section">
            <div class="foot-body">
                <h6>This website was created by Justin Sawyer</h6>
            </div>

            <div class="container links-and-outside-links">
                <div class="container website-links">
                    <p>In-site code links:</p>
                    <ul class="footer-menu">
                            <li class="footer-menu-link"><a class="footer-menu-list" href="numbers.html">Numbers</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="strings.html">"strings"</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="arrays.html">[arrays]</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="booleans.html">Booleans</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="loops.html">Loops</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="functions.html">functions()</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="objects.html">Objects</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="dom.html">The DOM</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="jQuery.html">jQuery</a></li>
                            <li class="footer-menu-link"><a class="footer-menu-list" href="json.html">JSON</a></li>
                    </ul>
                </div>
                <div class="container outside-links">
                    <p>Hi</p>
                </div>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="scripts/menu.js"></script>
    <script type="text/javascript" src="scripts/hoisting-and-scope/hoisting-and-scope.js"></script>
    <script type="text/javascript" src="scripts/hoisting-and-scope/storage.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
 
</body>
</html>