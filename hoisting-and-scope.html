<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/style.css" type="text/css">
    <title>Javascripting</title>
</head>
<body onload="setName()">
    <header>
        <div class="wrapper">
            <div class="sliding-background">
            </div>
        </div>
    
        <nav class="navbar navbar-expand-lg navbar-light">
            
            <a class="navbar-brand" href="index.html">Javascripting</a>
            <button onclick="dropdown()" id="bars" class="navbar-toggler custom-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <svg width="1em" height="1em" viewbox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                </svg>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                <!--<li class="nav-item active">
                    <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                </li>-->
                <li class="nav-item dropdown has-megamenu" >       
                    <a class="dropdown-toggle" data-toggle="dropdown" id="dropdown" onclick="dropdown()">Menu
                        <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-menu-no-children">
                                <a class="menu-list" href="code-examples.html">Code Examples</a>
                            </li>

                            <li class="dropdown-menu-no-children">
                                <a class="menu-list" href="hoisting-and-scope.html">Hoisting and Scope</a>
                            </li>
                        
                            <li class="dropdown-submenu">
                                <a onclick="menuLinks1()" class="menu-list" href="#">Numbers<span class="caret"></span></a>
                                <ul class="dropdown-menu" id="menu1" style="display:none">
                                <li><a href="numbers/the-basics.html">The Basics</a></li>
                                <li><a href="numbers/number-methods.html">Number Methods</a></li>
                                <li><a href="numbers/math-methods.html">Math Methods</a></li>
                                </ul>
                            </li>

                            <li class="dropdown-submenu">
                                <a onclick="menuLinks2()" class="menu-list" href="#">"strings"<span class="caret"></span></a>
                                <ul class="dropdown-menu" id="menu2" style="display:none">
                                <li><a href="strings/the-basics.html">The Basics</a></li>
                                <li><a href="strings/string-methods.html">String Methods</a></li>
                                <li><a href="strings/concat-and-interpolation.html">Concatenation & Interpolation</a></li>
                                <li><a href="strings/challenges.html">Challenges</a></li>
                                </ul>
                            </li>

                            <li class="dropdown-submenu">
                                <a onclick="menuLinks3()" class="menu-list" href="#">[arrays]<span class="caret"></span></a>
                                <ul class="dropdown-menu" id="menu3" style="display:none">
                                <li><a href="arrays/the-basics.html">The Basics</a></li>
                                <li><a href="arrays/array-methods.html">Array Methods</a></li>
                                <li><a href="arrays/array-methods-2.html">More Array Methods</a></li>
                                <li><a href="arrays/multi-dimensional-arrays.html">Multidimensional Arrays</a></li>
                                <li><a href="arrays/challenges.html">Challenges</a></li>
                                </ul>
                            </li>

                            <li class="dropdown-submenu">
                                <a onclick="menuLinks4()" class="menu-list" href="#">Booleans<span class="caret"></span></a>
                                <ul class="dropdown-menu" id="menu4" style="display:none">
                                <li><a href="booleans/the-basics.html">The Basics</a></li>
                                <li><a href="booleans/conditionals.html">Conditionals</a></li>
                                <li><a href="booleans/conversions.html">Conversions</a></li>
                                <li><a href="booleans/challenges.html">Challenges</a></li>
                                </ul>
                            </li>

                            <li class="dropdown-menu-no-children">
                                <a class="menu-list" href="type-conversion.html">Type Conversion</a>
                            </li>

                            <li class="dropdown-submenu">
                                <a onclick="menuLinks5()" class="menu-list" href="#">Loops<span class="caret"></span></a>
                                <ul class="dropdown-menu" id="menu5" style="display:none">
                                <li><a href="loops/the-basics.html">The Basics</a></li>
                                <li><a href="loops/loops.html">Loops</a></li>
                                <li><a href="loops/break-and-continue.html">Break and Continue</a></li>
                                <li><a href="loops/nested-loops.html">Nested Loops</a></li>
                                <li><a href="loops/challenges.html">Challenges</a></li>
                                </ul>
                            </li>

                            <li class="dropdown-submenu">
                                <a onclick="menuLinks6()" class="menu-list" href="#">Functions<span class="caret"></span></a>
                                <ul class="dropdown-menu" id="menu6" style="display:none">
                                <li><a href="functions/the-basics.html">The Basics</a></li>
                                <li><a href="functions/function-expressions.html">Function Expressions</a></li>
                                <li><a href="functions/function-callbacks.html">Function Callbacks</a></li>
                                <li><a href="functions/challenges.html">Challenges</a></li>
                                </ul>
                            </li>

                            <li class="dropdown-submenu">
                                <a onclick="menuLinks7()" class="menu-list" href="#">Objects<span class="caret"></span></a>
                                <ul class="dropdown-menu" id="menu7" style="display:none">
                                <li><a href="objects/the-basics.html">The Basics</a></li>
                                <li><a href="objects/object-constructor.html">Object Constructor</a></li>
                                <li><a href="objects/object-methods.html">Object Methods</a></li>
                                <li><a href="objects/this.html">This</a></li>
                                <li><a href="objects/object-values.html">Object Values</a></li>
                                <li><a href="objects/challenges.html">Challenges</a></li>
                                </ul>
                            </li>

                            <li class="dropdown-submenu">
                                <a onclick="menuLinks8()" class="menu-list" href="#">The DOM<span class="caret"></span></a>
                                <ul class="dropdown-menu" id="menu8" style="display:none">
                                <li><a href="dom/document-object-model.html">on~</a></li>
                                <li><a href="dom/getting-setting-dom-elements.html">Getting and Setting DOM Elements</a></li>
                                <li><a href="dom/setting-css-in-dom.html">Setting CSS Elements from the DOM</a></li>
                                <li><a href="dom/dom-events.html">DOM Events</a></li>
                                <li><a href="dom/challenges.html">Challenges</a></li>
                                </ul>
                            </li>

                            </ul>
                        </li>
                    </ul>
                
                <!--<form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                </form> -->
            </div>
        </nav>

    </header>

    <main>
        <div class="container body-container">
            <div class="page-name">
                <h1>Hoisting, Scope, Block and Storage</h1>
            </div>

            <div class="main-body">           
                <h2 id="hoisting">Hoisting:</h2>
                    <p>Hoisting means that the relevant code is hoisted to the top of the code block, or script. This means that they are read <strong>before</strong> 
                    the code is actioned.</p>
                    <p>One thing to note with hoisting is that the <strong>variable</strong> is hoisted, but not its assigned value. In other words, 
                    the code reads that the variable <strong>exists</strong>, but does not read what the variable is until that variable is actioned.</p>
                    <p>Not all types of variable declarations are hoisted:</p>
                        <ul>
                            <li><code>var</code>:</li>
                                <p class="tab"><code>var</code> is hoisted:</p>
                                <pre><code><p id="varHoist"></p></code></pre>
                                <button onclick="varHoist()">Is an apple a fruit?</button> <p> <span id="varHoistResult"></span></p>
                                
                                <p>Here, we can see that <code>var apple;</code> has been declared <strong>after</strong> we tell the code what to do with apple. 
                                Because it has been declared as <code>var</code>, it has been hoisted to the top of the code block, and is thus accessible.</p>
                                <br>

                            <li><code>let</code> and <code>const</code> :</li>
                                <p class="tab"><code>let</code> and <code>const</code> are NOT hoisted:</p>
                                <pre><code><p id="letHoist"></p></code></pre>
                                <button onclick="letHoist()">Is an apple a fruit?</button> <p> <span id="letHoistResult"></span></p>
                                
                                <p>Here, we can see that <code>let apple;</code> has been declared <strong>after</strong> we tell the code what to do with apple. 
                                Because it has been declared as <code>let</code>, it has <strong>not</strong> been hoisted to the top of the code block, and is thus inaccessible.</p>
                                <p>The same is true for <code>const</code>.</p>
                                <br>
                        </ul>

                <h2 id="scope">Scope:</h2>
                    <p>Scope can be considered as your environment. Declaring things in the global scope is like littering - it should be avoided. 
                    Declaring things in the local scope is like having a well-ordered book cabinet. Except in certain circumstances, variables should always be declared 
                    in the local scope - that is, within its own function. </p>
                    <br>
                    <ol>
                        <li>Global Scope:</li>
                            <p>The global scope is effectively your script. If you have a 100 page website and just one <code>JavaScript</code> file, declaring vaiables 
                            in the global scope can cause huge problems by corrupting code:</p>
                            <pre><code><p id="global"></p></code></pre>
                            <p>In the above code, we see that:</p>
                            <p><code>var</code> = <span id="var"></span></p>
                            <p>We redeclare var inside the <code>if</code> statement, and expect that Lupin is either a human or a werewolf, depending on whether 
                            it is a full moon or not:</p>
                            <br>
                            <p>It is a full moon. Lupin is currently a  <span id="var1"></span></p>
                            <br>
                            <p>The code runs smoothly for when it is a full moon, however:</p>
                            <br>
                            <p>It is not a full moon. Lupin is currently a <span id="var2"></span></p>
                            <br>
                            <p>The code has been corrupted because we redclared <code>var</code> inside the code block.</p>
                            <br>
                            <p>The above is a good example of why we should declare our variables in the local scope rather than the global scope.</p>
                            <br>
                        <li>Local Scope:</li>
                            <p>This is declaring variables <strong>within</strong> your code blocks (functions, in this case:</p>
                            <pre><code><p id="trueLupin"></p></code></pre>
                            <p>It is a full moon. Lupin is currently a  <span id="var3"></span></p>
                            <pre><code><p id="falseLupin"></p></code></pre>
                            <p>It is a full moon. Lupin is currently a  <span id="var4"></span></p>
                            <br>
                            <p>Above, having declared out variable <code>animal</code> <strong>within</strong> the local scope of our 
                            <code>function</code>, we can see that the results are correct. When it's a full moon, Lupin is a werewolf, when it isn't he is human.</p>
                            <br>
                            <p>Another advantage to declaring variables in local scope is memory usage of the computer. As globally declared variable live for the length of 
                            the script, they are hogging memory. Declaring them locally means that the memory is only being used while the <code>function</code> is running.</p>
                            <br>
                    </ol>
                            
                        <p>On the Home page, we spoke about <a href="index.html#variables">variables</a> and how <code>var</code> can be redeclared, 
                        while <code>let</code> and <code>const</code> cannot.</p>
                        <p>Let's reuse our first Lupin block of code, but this time we shall use <code>let</code> instead of <code>var</code>:</p>
                        <pre><code><p id="globalLet1"></p></code></pre>
                        <p>It is a full moon. Lupin is currently a  <span id="var5"></span></p>
                        <p>It is not a full moon. Lupin is currently a  <span id="var6"></span></p>
                        <br>
                        <p>We have changed simply one word in the code - the <code>var</code> to <code>let</code> inside the <code>if</code> code block.
                        However, doing so now returns the result that we want. This is because we have declared <code>let</code> inside the local scope of the 
                        <code>if</code> code block.</p>
                        <p>What happens if we do the same, but the other way around?</p>
                        <pre><code><p id="globalLet2"></p></code></pre>
                        <p>It is a full moon. Lupin is currently a  <span id="var7">Uncaught SyntaxError: Identifier 'species' has already been declared</span></p>
                        <p>It is not a full moon. Lupin is currently a  <span id="var8">Uncaught SyntaxError: Identifier 'species' has already been declared</span></p>
                        <br>
                        <p>And below, where we have changed both instances of <code>var</code> into <code>let</code>, we can see truly that the scope is local:</p>
                        <p>The code has completely ignored the globally declared <code>let</code> and returned only the locally scoped <code>let</code>, thus the code block 
                        functions as it should.</p>
                        <pre><code><p id="globalLet3"></p></code></pre>
                        <p>It is a full moon. Lupin is currently a  <span id="var9"></span></p>
                        <p>It is not a full moon. Lupin is currently a  <span id="var10"></span></p>
                        <br>

                <h2 id="scope-and-scripts">Scope and Scripts</h2>
                    <p>When pages are loaded, the browser concatenates scripts into one big file. Thus, we need to be careful when writing our scripts, 
                    because effectively, as the script files are now one big file, these scripts can "talk" to each other, and thus skew expected results:</p>
                    <!--<iframe height="400px" width="100%" src="https://repl.it/@JustinSawyer/JavaScript-Scope-3?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>-->
                    <p>We can see from the above embed that the two script files are talking to each other, and ths skewing the results. Now, if we simply wrap one of the commands inside a <code>function()</code>, we can see that they no longer communicate together.</p>
                    <!--<iframe height="400px" width="100%" src="https://repl.it/@JustinSawyer/JavaScript-Scope-3?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>-->
                    
                <h2 id="block">Block:</h2>
                    <p><code>JavaScript</code> also functions by code blocks. What this means is that, according to how the variable is declared (either as 
                    <code>var</code>, <code>let</code> or <code>const</code>), code is either blocked (is not accessible) or not:</p>
                        <ul>
                            <li><code>var</code>:</li>
                                <pre><code><p id="block1"></p></code></pre>
                                <p>Declaring "a" as <code>var</code> means that it is not blocked:</p>
                                <p id="block2"></p>
                                <br>

                            <li><code>let</code> and <code>const</code>:</li>
                                <pre><code><p id="block3"></p></code></pre>
                                <p>Declaring "a" as <code>let</code> or <code>const</code> means that it is blocked:</p>
                                <p id="block4"></p>
                                <br>

                        </ul>
                
                <h2 id="storage">Storage</h2>
                    <p>Depending on the browser, there is a limited amount of memory available. Thus, in <code>JavaScript</code>, data 
                    can either be stored as <code>local strorage</code> or as <code>session storage</code>.</p>
                    <ul>
                        <li>Session Storage:</li>
                        <p class="tab">Session storage is not persistent. It stays in the memory until the page is closed.</p>
                        <button id="collectClickCount" onclick="collectClickCount()">Click me</button><button id="showClickCount" onclick="showClickCount()">Show click count</button><button id="refreshClickCount" onclick="refreshClickCount()">Reset click count</button>
                        <p id="resultSessionStorage"></p>
                        <pre><code><p id="showCodeClickCount"></p></code></pre>
                        <p>Note that when you set the session storage, you have to set its <code>key</code> / <code>value</code> pairs. It is an <a href="objects/the-basics.html">Object</a>.</p>
                        <p>Also, when resetting the count, if you do not add the <code>|| 0;</code>, the count returns <code>undefined</code>.</p>

                        <li>Local Storage:</li>
                        <p class="tab">Local storage <strong>is</strong> persistent. It stays forever in the memory of the page and always shows in the browser:</p>
                        <p>Enter your name: </p><input type="text" name="name" placeholder="Your name" id="myName"> 
                        <button onclick="getName()">Enter</button>
                        <p>Now close and then open this page.</p>
                        <pre><code><p id="resultLocalStorage"></p></code></pre>
                        <p>In the code block above, you can also see a function called <code>resetName()</code>. It is triggered using the button below:</p>
                        <button onclick="resetName()">Reset</button>
                        <p>Now close and then open this page.</p>
                    </ul>
                    <p>So why are these storage solutions important?</p>
                    <p>Imagine a website where you have to sign in. Keeping your log in details can either be good, or bad, depending on the website. 
                    You might want to keep your details for a personal site, of course. But you probably don't want them stored on the back end of your bank 
                    company's site!</p>
                    <p>The storage sessions also help if you need to store details but don't want to declare global variables.</p>


                
                    
            </div>
        </div>

        <div class="container next-last-page-section">
            <div class="row">
                <div class="col-sm-6">
                    <div class="Last-page">
                        <a class="btn button" style="text-align: left" href="code-examples.html" role="button"><svg width="1em" height="1em" viewbox="0 0 16 16" class="bi bi-caret-left-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"/>
                        </svg> Code Examples</a>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="next-page">
                        <a class="btn button" href="numbers/the-basics.html" role="button">Numbers:The Basics <svg width="1em" height="1em" viewbox="0 0 16 16" class="bi bi-caret-right-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                        </svg></a>
                    </div>  
                </div> 
            </div> 
        </div>
        
    </main>

    <footer>
        <div class="container-fluid footer-section">
            <div class="foot-body">
                <h6>This website was created by Justin Sawyer</h6>
            </div>

            <div class="container links-and-outside-links">
                <div class="container website-links">
                    <p>In-site code links:</p>
                    <ul class="footer-menu">
                            <li class="footer-menu-link">
                                <a class="footer-menu-list" href="code-examples.html">Code Examples</a>
                            </li>
                    </ul>
                </div>
                <div class="container outside-links">
                    <p>Hi</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="scripts/nav-dropdowns.js"></script>
    <script src="scripts/hoisting-and-scope/hoisting-and-scope.js"></script>
    <script src="scripts/hoisting-and-scope/storage.js"></script>
    
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

    <!--<script>
        $(document).ready(function(){
        $('.dropdown-submenu a.menu-list').on("click", function(e){
            $(this).next('ul').toggle();
            e.stopPropagation();
            e.preventDefault();
        });
        });
    </script>-->

    <script type="text/javascript">
    // jquery ready start
    $(document).ready(function() {
	// jQuery code
        //////////////////////// Prevent closing from click inside dropdown
        $(document).on('click', '.dropdown-menu', function (e) {
            e.stopPropagation();
        });	
    }); // jquery end
    </script>
    
</body>
</html>